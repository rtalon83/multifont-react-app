(this["webpackJsonpmultifont-react-app"]=this["webpackJsonpmultifont-react-app"]||[]).push([[0],[,,,,,,,,function(e){e.exports=JSON.parse('{"homepage":"http://rtalon83.github.io/multifont-react-app","github":"https://github.com/rtalon83/multifont-react-app","issues":"https://github.com/rtalon83/multifont-react-app/issues","name":"multifont-react-app","version":"0.1.4","private":true,"dependencies":{"node-sass":"^4.14.1","react":"^16.13.1","react-dom":"^16.13.1","react-scripts":"3.4.1","sass-loader":"^8.0.2","uuid":"^7.0.3"},"devDependencies":{"eventemitter3":"^4.0.4","file-loader":"^6.0.0","file-saver":"^2.0.2","gh-pages":"^2.2.0","jszip":"^3.4.0","maxrects-packer":"^2.6.0","mustache":"^4.0.1"},"scripts":{"start":"react-scripts start","build":"react-scripts build","test":"react-scripts test --env=jsdom","eject":"react-scripts eject","predeploy":"npm run build","deploy":"gh-pages -d build"},"build-app":{"appId":"app-id","category":"game","win":{"target":"NSIS","icon":"build/icon.ico"}},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]}}')},,,function(e){e.exports=JSON.parse('[{"type":"Pixi.js BitmapFont","allowTrim":true,"allowRotation":false,"allowOneFont":true,"allowMultiFont":true,"template":"simplefont.mts","fileExt":"xml"},{"type":"Pixi.js MultiBitmapFont","allowTrim":true,"allowRotation":true,"allowOneFont":false,"allowMultiFont":true,"template":"multifont.mts","fileExt":"xml"}]')},,,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoEAYAAADcbmQuAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKgmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIiB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMC0wNS0xNlQxODo0NToxMCswMjowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMC0wNS0xNlQxOToxMDo1MCswMjowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjAtMDUtMTZUMTk6MTA6NTArMDI6MDAiIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjNkNjcwNTJhLTY5ODEtNDM0Yy1iYjNjLWY5MWY1NDU4ZGExMSIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjExOWEzNDQzLWE3MmUtNWQ0Mi1hOWE3LTQ2ZjQ4OGEzMjI2YyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjk1MzhjZjcyLTA1MDQtZmM0Zi04ODk3LWFiMmIwYjk4NDdhNCIgdGlmZjpPcmllbnRhdGlvbj0iMSIgdGlmZjpYUmVzb2x1dGlvbj0iNzIwMDAwLzEwMDAwIiB0aWZmOllSZXNvbHV0aW9uPSI3MjAwMDAvMTAwMDAiIHRpZmY6UmVzb2x1dGlvblVuaXQ9IjIiIGV4aWY6Q29sb3JTcGFjZT0iNjU1MzUiIGV4aWY6UGl4ZWxYRGltZW5zaW9uPSI1MTIiIGV4aWY6UGl4ZWxZRGltZW5zaW9uPSI1MTIiPiA8cGhvdG9zaG9wOlRleHRMYXllcnM+IDxyZGY6QmFnPiA8cmRmOmxpIHBob3Rvc2hvcDpMYXllck5hbWU9IkEiIHBob3Rvc2hvcDpMYXllclRleHQ9IkEiLz4gPHJkZjpsaSBwaG90b3Nob3A6TGF5ZXJOYW1lPSJDIiBwaG90b3Nob3A6TGF5ZXJUZXh0PSJDIi8+IDxyZGY6bGkgcGhvdG9zaG9wOkxheWVyTmFtZT0iQiIgcGhvdG9zaG9wOkxheWVyVGV4dD0iQiIvPiA8L3JkZjpCYWc+IDwvcGhvdG9zaG9wOlRleHRMYXllcnM+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6OTUzOGNmNzItMDUwNC1mYzRmLTg4OTctYWIyYjBiOTg0N2E0IiBzdEV2dDp3aGVuPSIyMDIwLTA1LTE2VDE4OjQ1OjEwKzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDozMTRlN2QzZC1iM2ZjLWRkNGItOTYwZi02ZTlhMDUyZDhkNWYiIHN0RXZ0OndoZW49IjIwMjAtMDUtMTZUMTk6MTA6NTArMDI6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNvbnZlcnRlZCIgc3RFdnQ6cGFyYW1ldGVycz0iZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iZGVyaXZlZCIgc3RFdnQ6cGFyYW1ldGVycz0iY29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmciLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjNkNjcwNTJhLTY5ODEtNDM0Yy1iYjNjLWY5MWY1NDU4ZGExMSIgc3RFdnQ6d2hlbj0iMjAyMC0wNS0xNlQxOToxMDo1MCswMjowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MzE0ZTdkM2QtYjNmYy1kZDRiLTk2MGYtNmU5YTA1MmQ4ZDVmIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjk1MzhjZjcyLTA1MDQtZmM0Zi04ODk3LWFiMmIwYjk4NDdhNCIgc3RSZWY6b3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjk1MzhjZjcyLTA1MDQtZmM0Zi04ODk3LWFiMmIwYjk4NDdhNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PvDzdOQAAAQ2SURBVGiB7VpNctNKEJ6mKNgkIE7wlBMgThBRsEecIM4JcG7gnCDmBDInsNhDRZzAukH0TmAVrHibfov5FEftGWtGkuWkyt/m02imu0etT/NnEzMzszqiI54dugNPHc/HCvT7988fL14+Hq2/evXh439/ifr6OSqwJ0ZToBkL8L+OSriAgkOUc/CvFvt/YDdx7Jc7DpzAb6Q/pby1pR4CzlEKwb9gP2uxi5HgyeBDyPET7oljAnvimMCeeOIJfO04pgV768HICSxFOfK0l+1jR7tzkejcM64dIyewEOVPrQrSs2iEUiBqI9TfsOZA2E1Qmgq7tmWPO0ZO4HfR8RgPmloSEKOUikRfCz9T8JqbOx5pV4HnHfpuBo19mKAfcIWIkad1iS3YGTUVdgN/gcWuAr/HurHwjGvHgSaR91BQ4di+BH++V55OxAKld7h/Ba4Vegk+GzxxNUZXoERzjEtEbYFEZaP2yQcDJpCIKBV71RrfSSlm5vkQgR4VBkggEVGE65XFU6V0At8MNvttop+ebsa+BHwhxthANVEIvibmP3+2l1kO8YdJYOp42nEJJS76BETU09NNgpYW5ftirnQir5xf9ECTSCLKuaXdRe/BQicuRmklEleBN5OHTgjds75fT2KZ8D6Ff7n82YFagf6slFITcK3imuv7KZvrQ+94Sp2cMAfgNWtm8Irr+m5+p6rpr+ZJu32/BN6KxKy5WZ9YEpxyu3/Tg6ZsflD/F2L2vxJ+b1v72eETJiIKcR2Lukxouy6Xol0CP4Fn7ESUF6rr4G/GV3zaubtJN+XNLMqKLe1v2Nze4RNRJyfMsTIrL+mtvL7ccRKRk0GJpNje3FfLrPbFcbCOLPcLN/M9wiOBREQxrkNRl+2wY2YucZ2Lukg115E2BAavQ3663eGpQNsy5JvjusnWzlWJjw8OCXw42E9EXaG0wgrHcBm4EvcT1W1SOTwcFZhY7rsqTymd6ArXmagLwBOLbbF1p7mgPhwcfxe2fWJvWStn5rnHDVrizIW/wtI+Aud+4Q1ovpD4/r4ea2d2w93LlciyXNk3by+HzAvdOx5qOaL9Lb39tyjQNmkU4Gq3eSsCcGSJmwsl1gelS9SHUM4USpl790DbhyglojZrd7BbgWuLQvz3nGb/YYvCt+Ps3tLNPBUXKbOy1+y6RTQcZxERTXCdCgUu8HCXA57rERHdIk4s6q62DmKb5391/xJhV4JzsPzz0rklXgW+xOlN1tJ3ZVPG0qKIfWydlLKf6tyxm5Kmqh6zzMps41uuFenb/wcKfHhIcCeUV+Ghhj9R3oCIaI24gaj7DCVmDl4ezqaRMvsrwXn/HU1TCTOLEtJWJQyjxJTN8ZcjxO/GQoG18kKR5ndQQNH9TbXC5beVM/Sj3GM//PC8uYUy7Sz2nTgZh4hI/vOgRjBCP/xw8N+Fnzr+B+lyAwYuvpYhAAAAAElFTkSuQmCC"},,,,function(e,t,a){},,,,,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAFEmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMC0wNS0yMVQxMDozMDoxMyswMjowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjAtMDUtMjFUMTA6MzE6NTUrMDI6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjAtMDUtMjFUMTA6MzE6NTUrMDI6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6ZjQ4YmJjOWItZWFmMS0wZjQxLTkxNmYtOGEwOWRkYjBhOGE0IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOmY0OGJiYzliLWVhZjEtMGY0MS05MTZmLThhMDlkZGIwYThhNCIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOmY0OGJiYzliLWVhZjEtMGY0MS05MTZmLThhMDlkZGIwYThhNCI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ZjQ4YmJjOWItZWFmMS0wZjQxLTkxNmYtOGEwOWRkYjBhOGE0IiBzdEV2dDp3aGVuPSIyMDIwLTA1LTIxVDEwOjMwOjEzKzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Phq7LwcAAASlSURBVFiFxZdNbBtFFMf/783sh712YqcNLpHaqCItDUUNDaDeqLjzcYqE4ES5IgGtEKeeeg3tBXErJ5C49wqiQSCB1LRQqRWBNqqwShWZ2omdtdezOzMc7KXBsV2nH/Qnraxdz7yveTPvDX13/DgAwDDDVQqTlQoi34cTx4h8H5lWC167DT+KJsMgeIOAF2PHmSdr91kgBwAEbAL4E8DlWMpLpbW1C5v5fGVjfBxTt2+jkc8j02rBiWNM1GqQSYIUiQFYIhhmiCSZb3ve+7HjvJU4ToaNAVsL21GckgfwNIBjTpKgNjHRNERfs9afCa2vpOP7wX2VdxSzp9Q5y7xMwLtGiIzQGjREWIphzhJwwonjy2EQfBq5LkljQHb7zG0GkLWAtYfY2steu/2hFeLe9xFJxwpjsJnPn4xddxnAwX4SOJ1ghIByXZAxc5lW6ycj5ZxhBvopZoZVCrZe7zxKAbw9mJYIQmt4cXz07q5dPzeDYG7r+gPdHNBCIBOGyLZa04nj/MjWBn0VpyQJKAhAxWJHkVJAu93XiM4ACwCFKJP54c6ePc+N1evloNns+JJIicj34bXbPFGtfktAYIn6C+qiy2X4CwsoLC2hsLQEf2EBulweOkcmCSxR7tb09DfNbPZfBbJYq8Eww0mSs23ff2aolJ4IcBAAACgIgJ7Q9mKJQNZibHPzYCubXVwrlU6RtZDdPX7AMH+gpRwt2dIcSIUPyIF+yCTBZi53cq1U+ryZydzkqTt3oKU8rR1nR5n+oKSRyDcapw9fuwZ2lSpa4O3HrrnHCDbmHU+pAleLxTeV7wvS+n8zQGgNwyxX9+9/nVvZ7CuuUsB9Mv9Rku4yT6njbIQ4PHTPP16eZ9J675PSDmAvW6L8k9JugbHRNu9jhAlo7HiWMSDXBaHTE5DrAsbsWAxZW2eydvgh3g8pYcMQpvvYMATkwN5miAVUpuuzs+fJmBM72obGAJ7X8RwjVMPBnOe2530Pov51fxCuC1urQa+sQK+swNZqQNeYUUiP/MjzLlI9lyv+NTVV0VIKHnUdHzIChhlC66S0tjbJsevWLPNXOylED9IPbMUSQSTJl34UrfP12VmEmcwZ061SI6EUqFiECAKItDNSaqSpbC0sETbGx89cPXIE8tmVFViiG61M5lxjbOyj3p6tL2kOhGHHox3kQCwl8vX64kQcr3ZKc/ePv3fv5j9mZn4rbGwcIGOGF6cHyQFrASLUCoWVmZs3D01WKgBwz4BmNov62Ni+9ULhmhYiJ4aVZ2bYKAKiqPPu+yDfH3oYGSHAWjfG19cPjzca5Ww3etS76remp+eaQXCRrC08yg7JMFfdKHp1ZnX16n982fqSSIlsGP5arFaPKce5ooV4qDaNrIUWAm3HWS5Uq8eyUXQ16Tkxt9+MOj+/O3E8n2s0zuruut6vVd+KJYIlghYCQRguOnH8EgE3RrqapZdSTynkwvCUct2jFviCtQ4HGLsNMiYUSXK+7TgvBGH4sRfHMMx9nRhYQUzXA838ixvH7+Xr9U/WSqXXnCR5GcA8gH0GyHdF1gGUASwrKS89ValcSKS8GwYBEiFghkTvH5gmRqvie6o7AAAAAElFTkSuQmCC"},function(e,t,a){e.exports=a(43)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var i=a(0),n=a.n(i),r=a(1),s=a.n(r),o=a(5),c=a(2),l=a(3),h=a(4),u=a(7),p=a(6),d=a(13),m=a.n(d),f="ATLAS_LIST_CHANGED",g="PACK_COMPLETED",v="PACK_OPTIONS_CHANGED",b="START_EXPORT",y="FONT_SELECTED",k="CHAR_SELECTED",w="UPDATE_RESULT",x="BACKGROUND_TEXTURE_CHANGED",N="SHOW_POPUP",O="CLOSE_POPUP",E=new m.a,S="POPUP_ABOUT",C="POPUP_LOADING",M="POPUP_WARNING",j="POPUP_ERROR_EXPORTING",_=a(8),F=a(14),I=a.n(F),A=(a(29),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var i;return Object(c.a)(this,a),(i=t.call(this,e)).onAboutClicked=i.onAboutClicked.bind(Object(h.a)(i)),i}return Object(l.a)(a,[{key:"onAboutClicked",value:function(e){E.emit(N,{type:S})}},{key:"render",value:function(){return n.a.createElement("div",{className:"header"},n.a.createElement("div",{className:"header-title"},n.a.createElement("img",{src:I.a,alt:"logo"}),n.a.createElement("div",{className:"title"},"MultiFont Packer BETA ",_.version)),n.a.createElement("div",{className:"about"},n.a.createElement("span",{onClick:this.onAboutClicked},"ABOUT")))}}]),a}(i.Component)),R=(a(18),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var i;return Object(c.a)(this,a),(i=t.call(this,e)).onViewClick=i.onViewClick.bind(Object(h.a)(i)),i}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.updateView()}},{key:"componentDidUpdate",value:function(){this.updateView()}},{key:"updateView",value:function(){var e=s.a.findDOMNode(this.refs.view);if(e){e.width=this.props.buffer.width,e.height=this.props.buffer.height,e.style.width=Math.floor(e.width*this.props.scale)+"px",e.style.height=Math.floor(e.height*this.props.scale)+"px";var t=e.getContext("2d");if(t.clearRect(0,0,e.width,e.height),this.props.selectedChar&&(t.globalAlpha=.35),t.drawImage(this.props.buffer,0,0,e.width,e.height,0,0,e.width,e.height),t.globalAlpha=1,this.props.selectedChar)for(var a in this.props.bitmapfonts)if(this.props.bitmapfonts.hasOwnProperty(a)){var i=this.props.bitmapfonts[a];if(i.characters.hasOwnProperty(this.props.selectedChar)){var n=i.characters[this.props.selectedChar],r=n.frame,o=r.w,c=r.h;n.rotated&&(o=r.h,c=r.w),t.clearRect(r.x,r.y,o,c),t.drawImage(this.props.buffer,r.x,r.y,o,c,r.x,r.y,o,c),t.beginPath(),t.rect(r.x,r.y,o,c),t.stroke()}}e.className=this.props.textureBack}}},{key:"drawOutline",value:function(e,t){var a=t.frame,i=a.w,n=a.h;t.rotated&&(i=a.h,n=a.w),e.strokeStyle="#00F",e.fillStyle="rgba(0,0,255,0.25)",e.lineWidth=1,e.beginPath(),e.fillRect(a.x,a.y,i,n),e.rect(a.x,a.y,i,n),e.moveTo(a.x,a.y),e.lineTo(a.x+i,a.y+n),e.stroke()}},{key:"getCharByClick",value:function(e,t,a){var i=null;for(var n in e.characters)if(e.characters.hasOwnProperty(n)){var r=e.characters[n],s=r.frame.w,o=r.frame.h;if(r.rotated&&(s=r.frame.h,o=r.frame.w),t>=r.frame.x&&t<r.frame.x+s&&a>=r.frame.y&&a<r.frame.y+o){i=n;break}}return i}},{key:"onViewClick",value:function(e){var t=null,a=this.props.selectedFont,i=s.a.findDOMNode(this.refs.view).getBoundingClientRect(),n=(e.clientX-i.left)/this.props.scale,r=(e.clientY-i.top)/this.props.scale;if(this.props.multifont){for(var o in this.props.bitmapfonts)if(this.props.bitmapfonts.hasOwnProperty(o)){var c=this.getCharByClick(this.props.bitmapfonts[o],n,r);if(c){t=c,a=o;break}}}else{var l=this.getCharByClick(this.props.bitmapfonts[this.props.selectedFont],n,r);l&&(t=l,a=this.props.selectedFont)}return t&&(this.updateView(),E.emit(k,{selectedChar:t,selectedFont:a})),e.preventDefault(),e.stopPropagation(),!1}},{key:"render",value:function(){return n.a.createElement("div",{ref:"back"},n.a.createElement("canvas",{ref:"view",onClick:this.onViewClick}))}}]),a}(n.a.Component)),T=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var i;return Object(c.a)(this,a),(i=t.call(this,e))._testMessage="",i.updateResult=i.updateResult.bind(Object(h.a)(i)),E.on(w,i.updateResult),i}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(){this.updateResult()}},{key:"updateResult",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null!=this.props.selectedfont&&this.props.bitmapfonts.hasOwnProperty(this.props.selectedfont)){var t=this.props.bitmapfonts[this.props.selectedfont],a=s.a.findDOMNode(this.refs.canvasTextResult),i=a.getContext("2d");a.width=1280,a.height=768,i.clearRect(0,0,a.width,a.height),e&&(this._testMessage=e.currentTarget.value);var n,r=this._testMessage.split(""),o=r.length,c=0,l=0;for(n=0;n<o;n++)if("\n"===r[n])l+=this.props.bitmapfonts[this.props.selectedfont].lineHeight,c=0;else if(" "===r[n])c+=this.props.bitmapfonts[this.props.selectedfont].spaceWidth;else if("\r"===r[n])c+=this.props.bitmapfonts[this.props.selectedfont].tabWidth;else{var h=t.getCharByText(r[n]);if(h){var u=c+h.xoffset,p=l+h.yoffset;i.drawImage(h.image,u,p),c+=h.xadvance}}}}},{key:"render",value:function(){return n.a.createElement("div",{className:"viewer-tester"},n.a.createElement("div",{className:"tester-text"},n.a.createElement("div",{className:"tester-text-info"},"Write here"),n.a.createElement("div",null,n.a.createElement("textarea",{className:"text-area",ref:"text_area",onChange:this.updateResult}))),n.a.createElement("div",{className:"tester-view"},n.a.createElement("div",{className:"tester-text-info"},"Background"),n.a.createElement("div",{className:"canvas-text-result"},n.a.createElement("canvas",{ref:"canvasTextResult"}))))}}]),a}(i.Component),P=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var i;return Object(c.a)(this,a),(i=t.call(this,e)).onFontSelected=i.onFontSelected.bind(Object(h.a)(i)),i.onCharSelected=i.onCharSelected.bind(Object(h.a)(i)),i.onCharChanged=i.onCharChanged.bind(Object(h.a)(i)),i.onChangeBackgroundTexture=i.onChangeBackgroundTexture.bind(Object(h.a)(i)),i.blurHandler=i.blurHandler.bind(Object(h.a)(i)),i.state={textureBack:"grid-texture",packResult:null,selectedChar:null,selectedFont:null},E.on(y,i.onFontSelected),E.on(k,i.onCharSelected),E.on(g,i.updateViewer,Object(h.a)(i)),E.on(x,i.onChangeBackgroundTexture),i}return Object(l.a)(a,[{key:"onChangeBackgroundTexture",value:function(e){this.setState({textureBack:e})}},{key:"onCharSelected",value:function(e){this.setState({selectedChar:e.selectedChar,selectedFont:e.selectedFont})}},{key:"onCharChanged",value:function(e){var t=this.props.bitmapfonts[this.state.selectedFont].getCharById(this.state.selectedChar);t&&(t.text=e.currentTarget.value),E.emit(k,{selectedChar:this.state.selectedChar,selectedFont:this.state.selectedFont})}},{key:"onFontSelected",value:function(e){this.setState({selectedFont:e.selectedFont,selectedChar:null})}},{key:"updateViewer",value:function(e){this.state.selectedFont||(this.state.selectedFont=e[0].selectedFont),this.state.selectedChar=null,this.setState({packResult:e})}},{key:"blurHandler",value:function(){this.setState({selectedChar:null})}},{key:"render",value:function(){var e=[],t=0,a=[];if(this.state.packResult){var i,r=Object(o.a)(this.state.packResult);try{for(r.s();!(i=r.n()).done;){var s=i.value;e.push(n.a.createElement(R,{key:"tex-view-"+t,buffer:s.buffer,textureBack:this.state.textureBack,bitmapfonts:this.props.bitmapfonts,scale:1,multifont:s.multifont,selectedChar:this.state.selectedChar,selectedFont:this.state.selectedFont})),t++}}catch(h){r.e(h)}finally{r.f()}}if(this.state.selectedChar)for(var c in this.props.bitmapfonts)if(this.props.bitmapfonts.hasOwnProperty(c)){var l=this.props.bitmapfonts[c].getCharById(this.state.selectedChar);if(l){a.push(n.a.createElement("input",{onChange:this.onCharChanged,key:"id"+this.state.selectedChar,maxLength:"1",id:this.state.selectedChar,defaultValue:l.text,autoFocus:!0,className:"input-letter",style:{left:l.frame.x,top:l.frame.y}}));break}}return n.a.createElement("div",{className:"viewer-main"},n.a.createElement("div",{className:"viewer"},n.a.createElement("div",{className:"result-view-container"},n.a.createElement("div",{className:"viewer-texture"},n.a.createElement("div",{className:"viewer-input",onBlur:this.blurHandler,tabIndex:0},a),e)),n.a.createElement(T,{bitmapfonts:this.props.bitmapfonts,selectedfont:this.state.selectedFont})))}}]),a}(i.Component),D=["image/png","image/jpg","image/jpeg","image/gif"],G=function(){function e(){Object(c.a)(this,e),this._data=null,this._images={},this.onEnd=null,this.checkDone=this.checkDone.bind(this)}return Object(l.a)(e,[{key:"load",value:function(e,t){var a,i=e.length;for(this._data=[],a=0;a<i;a++)this._data.push(e[a]);this.onEnd=t,this.loadNext()}},{key:"loadNext",value:function(){var e=this;if(this._data.length>0){var t=this._data.shift();if(-1!==D.indexOf(t.type)){var a=new Image,i=new FileReader;i.onload=function(i){a.src=i.target.result,a._base64=i.target.result,e._images[t.name]=a,e.loadNext()},i.readAsDataURL(t)}else this.loadNext()}else this.checkDone()}},{key:"checkDone",value:function(){for(var e=!0,t=0,a=Object.keys(this._images);t<a.length;t++){var i=a[t];if(!this._images[i].complete){e=!1;break}}e?this.onEnd(this._images):setTimeout(this.checkDone,50)}}]),e}(),Z=(a(30),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var i;return Object(c.a)(this,a),(i=t.call(this,e)).onSelect=i.onSelect.bind(Object(h.a)(i)),i._divSelected=null,i}return Object(l.a)(a,[{key:"onSelect",value:function(e){return E.emit(y,{selectedFont:e.currentTarget.id,selectedChar:null}),e.currentTarget.className="item-wrapper item-selected",this._divSelected&&(this._divSelected.className="item-wrapper"),this._divSelected=e.currentTarget,e.preventDefault(),e.stopPropagation(),!1}},{key:"componentDidUpdate",value:function(){this.props.data&&null==this._divSelected&&(this._divSelected=s.a.findDOMNode(this.refs.it_0),this._divSelected.className="item-wrapper item-selected")}},{key:"render",value:function(){var e=this,t=Object.keys(this.props.data);if(t.length>0){var a=t.map((function(t,a){return n.a.createElement("div",{key:"id_"+a,className:"item-wrapper",id:t,ref:"it_"+a,onClick:e.onSelect},n.a.createElement("div",{className:"item-image-container"},n.a.createElement("img",{className:"item-image",alt:"imagen",src:e.props.data[t].src})),n.a.createElement("div",{className:"item-text-container"},t))}));return n.a.createElement("div",null,a)}return n.a.createElement("span",null)}}]),a}(i.Component)),z=(a(31),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var i;return Object(c.a)(this,a),(i=t.call(this,e)).onFilesDrop=i.onFilesDrop.bind(Object(h.a)(i)),i.onDragOver=i.onDragOver.bind(Object(h.a)(i)),i.onLoadImagesComplete=i.onLoadImagesComplete.bind(Object(h.a)(i)),i.state={atlas:{}},i}return Object(l.a)(a,[{key:"onFilesDrop",value:function(e){(e.preventDefault(),e.dataTransfer.files.length)&&(E.emit(N,{message:"Loading, please wait",type:C}),(new G).load(e.dataTransfer.files,this.onLoadImagesComplete));return!1}},{key:"onDragOver",value:function(e){e.preventDefault()}},{key:"onLoadImagesComplete",value:function(e){var t=Object.keys(e);if(t.length){var a,i=this.state.atlas,n=Object(o.a)(t);try{for(n.s();!(a=n.n()).done;){var r=a.value;i[r]=e[r]}}catch(s){n.e(s)}finally{n.f()}this.setState({atlas:i}),E.emit(f,i)}}},{key:"render",value:function(){var e=Object.keys(this.state.atlas).length>0?null:n.a.createElement("div",{ref:"dropHelp",className:"image-drop-help"},"drag'n'drop images here");return n.a.createElement("div",{className:"atlas-list",onDrop:this.onFilesDrop,onDragOver:this.onDragOver},n.a.createElement("div",null,n.a.createElement(Z,{data:this.state.atlas}),e))}}]),a}(i.Component)),L={Default:"Default"},B=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,[{key:"pack",value:function(){throw Error("Abstarct method. Override it.")}}],[{key:"getMethodProps",value:function(){return{name:"Default",description:"Default placement"}}},{key:"type",get:function(){return"Default"}},{key:"methods",get:function(){return L}}]),e}(),W=a(15),H={Smart:"Smart",SmartArea:"SmartArea",Square:"Square",SquareArea:"SquareArea",SmartSquare:"SmartSquare",SmartSquareArea:"SmartSquareArea"},Y=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e,i){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(c.a)(this,a),(n=t.call(this)).binWidth=e,n.binHeight=i,n.allowRotate=r,n}return Object(l.a)(a,[{key:"pack",value:function(e,t){var a,i={smart:t===H.Smart||t===H.SmartArea||t===H.SmartSquare||t===H.SmartSquareArea,pot:!1,square:t===H.Square||t===H.SquareArea||t===H.SmartSquare||t===H.SmartSquareArea,allowRotation:this.allowRotate,logic:t===H.Smart||t===H.Square||t===H.SmartSquare?W.b.MAX_EDGE:W.b.MAX_AREA},n=new W.a(this.binWidth,this.binHeight,0,i),r=[],s=Object(o.a)(e);try{for(s.s();!(a=s.n()).done;){var c=a.value;r.push({width:c.frame.w,height:c.frame.h,data:c})}}catch(m){s.e(m)}finally{s.f()}n.addArray(r);var l,h=n.bins[0].rects,u=[],p=Object(o.a)(h);try{for(p.s();!(l=p.n()).done;){var d=l.value;d.data.frame.x=d.x,d.data.frame.y=d.y,d.rot&&(d.data.rotated=!0),u.push(d.data)}}catch(m){p.e(m)}finally{p.f()}return u}}],[{key:"getMethodProps",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";switch(e){case H.Smart:return{name:"Smart edge logic",description:""};case H.SmartArea:return{name:"Smart area logic",description:""};case H.Square:return{name:"Square edge logic",description:""};case H.SquareArea:return{name:"Square area logic",description:""};case H.SmartSquare:return{name:"Smart square edge logic",description:""};case H.SmartSquareArea:return{name:"Smart square area logic",description:""};default:throw Error("Unknown method "+e)}}},{key:"type",get:function(){return"MaxRectsPacker"}},{key:"methods",get:function(){return H}}]),a}(B),V=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;Object(c.a)(this,e),this.x=t,this.y=a,this.width=i,this.height=n}return Object(l.a)(e,[{key:"clone",value:function(){return new e(this.x,this.y,this.width,this.height)}},{key:"hitTest",value:function(t){return e.hitTest(this,t)}}],[{key:"hitTest",value:function(e,t){return e.x>=t.x&&e.y>=t.y&&e.x+e.width<=t.x+t.width&&e.y+e.height<=t.y+t.height}}]),e}(),U={BestShortSideFit:"BestShortSideFit",BestLongSideFit:"BestLongSideFit",BestAreaFit:"BestAreaFit",BottomLeftRule:"BottomLeftRule",ContactPointRule:"ContactPointRule"},J=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e,i){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(c.a)(this,a),(n=t.call(this)).usedRectangles=[],n.freeRectangles=[],n.binWidth=e,n.binHeight=i,n.allowRotate=r,n.freeRectangles.push(new V(0,0,e,i)),n}return Object(l.a)(a,[{key:"pack",value:function(e,t){return this.insert2(e,t)}},{key:"insert",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:U.BestShortSideFit,i=new V,n={value:0},r={value:0};switch(a){case U.BestShortSideFit:i=this._findPositionForNewNodeBestShortSideFit(e,t,n,r);break;case U.BottomLeftRule:i=this._findPositionForNewNodeBottomLeft(e,t,n,r);break;case U.ContactPointRule:i=this._findPositionForNewNodeContactPoint(e,t,n);break;case U.BestLongSideFit:i=this._findPositionForNewNodeBestLongSideFit(e,t,r,n);break;case U.BestAreaFit:i=this._findPositionForNewNodeBestAreaFit(e,t,n,r)}return 0===i.height||this._placeRectangle(i),i}},{key:"insert2",value:function(e,t){for(var a=[];e.length>0;){for(var i=1/0,n=1/0,r=-1,s=new V,o=0;o<e.length;o++){var c={value:0},l={value:0},h=this._scoreRectangle(e[o].frame.w,e[o].frame.h,t,c,l);(c.value<i||c.value===i&&l.value<n)&&(i=c.value,n=l.value,s=h,r=o)}if(-1===r)return a;this._placeRectangle(s);var u=e.splice(r,1)[0];u.frame.x=s.x,u.frame.y=s.y,u.frame.w===s.width&&u.frame.h===s.height||(u.rotated=!0),a.push(u)}return a}},{key:"_placeRectangle",value:function(e){for(var t=this.freeRectangles.length,a=0;a<t;a++)this._splitFreeNode(this.freeRectangles[a],e)&&(this.freeRectangles.splice(a,1),a--,t--);this._pruneFreeList(),this.usedRectangles.push(e)}},{key:"_scoreRectangle",value:function(e,t,a,i,n){var r=new V;switch(i.value=1/0,n.value=1/0,a){case U.BestShortSideFit:r=this._findPositionForNewNodeBestShortSideFit(e,t,i,n);break;case U.BottomLeftRule:r=this._findPositionForNewNodeBottomLeft(e,t,i,n);break;case U.ContactPointRule:r=this._findPositionForNewNodeContactPoint(e,t,i),i.value=-i.value;break;case U.BestLongSideFit:r=this._findPositionForNewNodeBestLongSideFit(e,t,n,i);break;case U.BestAreaFit:r=this._findPositionForNewNodeBestAreaFit(e,t,i,n)}return 0===r.height&&(i.value=1/0,n.value=1/0),r}},{key:"_occupancy",value:function(){for(var e=this.usedRectangles,t=0,a=0;a<e.length;a++)t+=e[a].width*e[a].height;return t/(this.binWidth*this.binHeight)}},{key:"_findPositionForNewNodeBottomLeft",value:function(e,t,a,i){var n,r,s=this.freeRectangles,o=new V;a.value=1/0;for(var c=0;c<s.length;c++)(n=s[c]).width>=e&&n.height>=t&&((r=n.y+t)<a.value||r===a.value&&n.x<i.value)&&(o.x=n.x,o.y=n.y,o.width=e,o.height=t,a.value=r,i.value=n.x),this.allowRotate&&n.width>=t&&n.height>=e&&((r=n.y+e)<a.value||r===a.value&&n.x<i.value)&&(o.x=n.x,o.y=n.y,o.width=t,o.height=e,a.value=r,i.value=n.x);return o}},{key:"_findPositionForNewNodeBestShortSideFit",value:function(e,t,a,i){var n,r,s,o,c,l=this.freeRectangles,h=new V;a.value=1/0;for(var u=0;u<l.length;u++){(n=l[u]).width>=e&&n.height>=t&&(r=Math.abs(n.width-e),s=Math.abs(n.height-t),o=Math.min(r,s),c=Math.max(r,s),(o<a.value||o===a.value&&c<i.value)&&(h.x=n.x,h.y=n.y,h.width=e,h.height=t,a.value=o,i.value=c));var p=void 0,d=void 0,m=void 0,f=void 0;this.allowRotate&&n.width>=t&&n.height>=e&&(p=Math.abs(n.width-t),d=Math.abs(n.height-e),m=Math.min(p,d),f=Math.max(p,d),(m<a.value||m===a.value&&f<i.value)&&(h.x=n.x,h.y=n.y,h.width=t,h.height=e,a.value=m,i.value=f))}return h}},{key:"_findPositionForNewNodeBestLongSideFit",value:function(e,t,a,i){var n,r,s,o,c,l=this.freeRectangles,h=new V;i.value=1/0;for(var u=0;u<l.length;u++)(n=l[u]).width>=e&&n.height>=t&&(r=Math.abs(n.width-e),s=Math.abs(n.height-t),o=Math.min(r,s),((c=Math.max(r,s))<i.value||c===i.value&&o<a.value)&&(h.x=n.x,h.y=n.y,h.width=e,h.height=t,a.value=o,i.value=c)),this.allowRotate&&n.width>=t&&n.height>=e&&(r=Math.abs(n.width-t),s=Math.abs(n.height-e),o=Math.min(r,s),((c=Math.max(r,s))<i.value||c===i.value&&o<a.value)&&(h.x=n.x,h.y=n.y,h.width=t,h.height=e,a.value=o,i.value=c));return h}},{key:"_findPositionForNewNodeBestAreaFit",value:function(e,t,a,i){var n,r,s,o,c,l=this.freeRectangles,h=new V;a.value=1/0;for(var u=0;u<l.length;u++)c=(n=l[u]).width*n.height-e*t,n.width>=e&&n.height>=t&&(r=Math.abs(n.width-e),s=Math.abs(n.height-t),o=Math.min(r,s),(c<a.value||c===a.value&&o<i.value)&&(h.x=n.x,h.y=n.y,h.width=e,h.height=t,i.value=o,a=c)),this.allowRotate&&n.width>=t&&n.height>=e&&(r=Math.abs(n.width-t),s=Math.abs(n.height-e),o=Math.min(r,s),(c<a.value||c===a.value&&o<i.value)&&(h.x=n.x,h.y=n.y,h.width=t,h.height=e,i.value=o,a.value=c));return h}},{key:"_commonIntervalLength",value:function(e,t,a,i){return t<a||i<e?0:Math.min(t,i)-Math.max(e,a)}},{key:"_contactPointScoreNode",value:function(e,t,a,i){var n,r=this.usedRectangles,s=0;0!==e&&e+a!==this.binWidth||(s+=i),0!==t&&t+i!==this.binHeight||(s+=a);for(var o=0;o<r.length;o++)(n=r[o]).x!==e+a&&n.x+n.width!==e||(s+=this._commonIntervalLength(n.y,n.y+n.height,t,t+i)),n.y!==t+i&&n.y+n.height!==t||(s+=this._commonIntervalLength(n.x,n.x+n.width,e,e+a));return s}},{key:"_findPositionForNewNodeContactPoint",value:function(e,t,a){var i,n,r=this.freeRectangles,s=new V;a.value=-1;for(var o=0;o<r.length;o++)(i=r[o]).width>=e&&i.height>=t&&(n=this._contactPointScoreNode(i.x,i.y,e,t))>a.value&&(s.x=i.x,s.y=i.y,s.width=e,s.height=t,a=n),this.allowRotate&&i.width>=t&&i.height>=e&&(n=this._contactPointScoreNode(i.x,i.y,t,e))>a.value&&(s.x=i.x,s.y=i.y,s.width=t,s.height=e,a.value=n);return s}},{key:"_splitFreeNode",value:function(e,t){var a,i=this.freeRectangles;return!(t.x>=e.x+e.width||t.x+t.width<=e.x||t.y>=e.y+e.height||t.y+t.height<=e.y)&&(t.x<e.x+e.width&&t.x+t.width>e.x&&(t.y>e.y&&t.y<e.y+e.height&&((a=e.clone()).height=t.y-a.y,i.push(a)),t.y+t.height<e.y+e.height&&((a=e.clone()).y=t.y+t.height,a.height=e.y+e.height-(t.y+t.height),i.push(a))),t.y<e.y+e.height&&t.y+t.height>e.y&&(t.x>e.x&&t.x<e.x+e.width&&((a=e.clone()).width=t.x-a.x,i.push(a)),t.x+t.width<e.x+e.width&&((a=e.clone()).x=t.x+t.width,a.width=e.x+e.width-(t.x+t.width),i.push(a))),!0)}},{key:"_pruneFreeList",value:function(){for(var e=this.freeRectangles,t=0;t<e.length;t++)for(var a=t+1;a<e.length;a++){if(V.hitTest(e[t],e[a])){e.splice(t,1);break}V.hitTest(e[a],e[t])&&e.splice(a,1)}}}],[{key:"getMethodProps",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";switch(e){case U.BestShortSideFit:return{name:"Best short side fit",description:"Positions the Rectangle against the short side of a free Rectangle into which it fits the best."};case U.BestLongSideFit:return{name:"Best long side fit",description:"Positions the Rectangle against the long side of a free Rectangle into which it fits the best."};case U.BestAreaFit:return{name:"Best area fit",description:"Positions the Rectangle into the smallest free Rectangle into which it fits."};case U.BottomLeftRule:return{name:"Bottom left rule",description:"Does the Tetris placement."};case U.ContactPointRule:return{name:"Contact point rule",description:"Choosest the placement where the Rectangle touches other Rectangles as much as possible."};default:throw Error("Unknown method "+e)}}},{key:"type",get:function(){return"MaxRectsBin"}},{key:"methods",get:function(){return U}}]),a}(B),X={Automatic:"Automatic"},Q=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e,i){arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(c.a)(this,a),t.call(this)}return Object(l.a)(a,[{key:"pack",value:function(e,t){throw new Error("OptimalPacker is a dummy and cannot be used directly")}}],[{key:"getMethodProps",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";switch(e){case X.Automatic:return{name:"Automatic",description:""};default:throw Error("Unknown method "+e)}}},{key:"type",get:function(){return"OptimalPacker"}},{key:"methods",get:function(){return X}}]),a}(B),q=[J,Y,Q];function K(e){var t,a=Object(o.a)(q);try{for(a.s();!(t=a.n()).done;){var i=t.value;if(i.type===e)return i}}catch(n){a.e(n)}finally{a.f()}return null}var $=q,ee=["grid-texture","white-texture","pink-texture","black-texture"],te=a(11),ae=a(16),ie=a.n(ae),ne=a(19);function re(e){var t=e||"";if(t&&"string"!==typeof t){t=[];for(var a=0,i=Object.keys(e);a<i.length;a++){var n=i[a];t.push("".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(e[n])))}t=t.join("&")}return t}function se(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",n=window.XMLHttpRequest&&new XMLHttpRequest||null;return n&&(n.onreadystatechange=function(){if(4===n.readyState){var r=null;n.status<400?("arraybuffer"===i&&(r=n.response),"xml"===i&&(r=n.responseXML),!r&&n.responseText&&(r=n.responseText),t&&t(r)):a&&a("".concat(e," HTTP Error ").concat(n.status,": ").concat(n.statusText))}}),n}function oe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"text",s=se(e,i,n,r);if(s){var o=re(a);"GET"==t&&o&&(e+="?"+o),s.open(t,e,!0),"arraybuffer"==r&&(s.responseType="arraybuffer"),"POST"==t&&s.setRequestHeader("Content-type","application/x-www-form-urlencoded"),s.send("GET"==t?null:o)}}var ce=a(20),le=a(21),he=a.n(le),ue=a(22),pe=a.n(ue),de={CODE:32,ID:"space"},me={CODE:9,ID:"tab"},fe=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"parseChar",value:function(e){var t=null;switch(e.code){case de.CODE:case me.CODE:t={letter:e.letter,code:e.code,x:0,y:0,width:0,height:0,xoffset:0,yoffset:0,xadvance:e.xadvance};break;default:t={letter:e.text,code:e.code,x:e.frame.x,y:e.frame.y,width:e.frame.w,height:e.frame.h,xoffset:e.xoffset,yoffset:e.yoffset,xadvance:e.xadvance}}return t}},{key:"parseFont",value:function(e,t){var a={name:e.name,size:e.size,lineHeight:e.lineHeight,scaleW:t.width,scaleH:t.height,num_pages:0,pages:[{id_page:0,file_name:t.textureName+"."+t.textureFormat}]},i=Object.keys(e.characters);for(var n in a.chars_count=i.length,a.chars=[],e.characters)a.chars.push(this.parseChar(e.characters[n]));return a.chars.push(this.parseChar({code:de.CODE,letter:de.ID,xadvance:e.spaceWidth})),a.chars.push(this.parseChar({code:me.CODE,letter:me.ID,xadvance:e.tabWidth})),a.kernings_count=0,a.kernings=[],a}},{key:"parseMultiFont",value:function(e,t){var a={scaleW:t.width,scaleH:t.height,file_name:t.textureName+"."+t.textureFormat,fonts:[]};for(var i in e)if(e.hasOwnProperty(i)){var n={name:e[i].name,size:e[i].size,lineHeight:e[i].lineHeight},r=Object.keys(e[i].characters);for(var s in n.chars_count=r.length,n.chars=[],e[i].characters)n.chars.push(this.parseChar(e[i].characters[s]));n.chars.push(this.parseChar({code:de.CODE,letter:de.ID,xadvance:e[i].spaceWidth})),n.chars.push(this.parseChar({code:me.CODE,letter:me.ID,xadvance:e[i].tabWidth})),n.kernings_count=0,n.kernings=[],a.fonts.push(n)}return a}}]),e}(),ge=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"getExporterByType",value:function(e){var t,a=Object(o.a)(te);try{for(a.s();!(t=a.n()).done;){var i=t.value;if(i.type===e)return i}}catch(n){a.e(n)}finally{a.f()}return null}},{key:"startExporter",value:function(){var e=Object(ne.a)(ie.a.mark((function e(t,a,i){var n,r,s,o,c,l,h,u,p,d,m,f,g,v;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[],r="exporters/"+i.exporter.template,s=[],"Pixi.js BitmapFont"===i.exporter.type)if(i.multiFont)for(o in a)a.hasOwnProperty(o)&&s.push(fe.parseFont(a[o],{width:t.width,height:t.height,textureName:i.textureName,textureFormat:i.textureFormat}));else s.push(fe.parseFont(a[i.selectedFont],{width:t.width,height:t.height,textureName:i.textureName,textureFormat:i.textureFormat}));else"Pixi.js MultiBitmapFont"===i.exporter.type&&s.push(fe.parseMultiFont(a,{width:t.width,height:t.height,textureName:i.textureName,textureFormat:i.textureFormat}));e.prev=4,l=[],h=s.length,c=0;case 8:if(!(c<h)){e.next=17;break}return e.t0=l,e.next=12,this.loadTemplate(s[c],r);case 12:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 14:c++,e.next=8;break;case 17:if(u=t.toDataURL("png"===i.textureFormat?"image/png":"image/jpeg"),(p=u.split(",")).shift(),u=p.join(","),n.push({name:i.textureName+"."+i.textureFormat,content:u,base64:!0}),l.length>1)for(d in l)l.hasOwnProperty(d)&&n.push({name:i.textureName+"_"+d+".xml",content:l[d]});else n.push({name:i.textureName+".xml",content:l[0]});for(m=new he.a,f=0,g=n;f<g.length;f++)v=g[f],m.file(v.name,v.content,{base64:!!v.base64});m.generateAsync({type:"blob"}).then((function(e){pe.a.saveAs(e,i.fileName+".zip")})),e.next=30;break;case 28:e.prev=28,e.t2=e.catch(4);case 30:case"end":return e.stop()}}),e,this,[[4,28]])})));return function(t,a,i){return e.apply(this,arguments)}}()},{key:"loadTemplate",value:function(e,t){var a=this;return new Promise((function(i,n){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"text";oe(e,"GET",t,a,i,n)}(t,null,(function(t){a.renderTemplate(t,e,i,n)}),(function(){return n("multifont.mts not found")}))}))}},{key:"renderTemplate",value:function(e,t,a,i){try{a(ce.a.render(e,t))}catch(n){i(n.message)}}}]),e}(),ve=(a(40),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var i;return Object(c.a)(this,a),(i=t.call(this,e)).changeTab=i.changeTab.bind(Object(h.a)(i)),i.toggleChange=i.toggleChange.bind(Object(h.a)(i)),i.onFontPropChanged=i.onFontPropChanged.bind(Object(h.a)(i)),i.onPackerChange=i.onPackerChange.bind(Object(h.a)(i)),i.startExport=i.startExport.bind(Object(h.a)(i)),i.onFontSelected=i.onFontSelected.bind(Object(h.a)(i)),i.onCharSelected=i.onCharSelected.bind(Object(h.a)(i)),i.setBack=i.setBack.bind(Object(h.a)(i)),i.onToggleSwitchChange=i.onToggleSwitchChange.bind(Object(h.a)(i)),i.onExporterChanged=i.onExporterChanged.bind(Object(h.a)(i)),i.onDimChanged=i.onDimChanged.bind(Object(h.a)(i)),i.methodItems=null,i.packOptions=i.setPackDefault(),i.updatePackerMethods(),i.state={multiTexture:!1,textureBack:"grid-back",packer:i.packOptions.packer,selectedFont:"",selectedChar:""},E.on(y,i.onFontSelected),E.on(k,i.onCharSelected),i}return Object(l.a)(a,[{key:"onExporterChanged",value:function(e){var t=ge.getExporterByType(s.a.findDOMNode(this.refs.exporter).value);s.a.findDOMNode(this.refs.allowRotation).disabled=!t.allowRotation,s.a.findDOMNode(this.refs.allowTrim).disabled=!t.allowTrim,s.a.findDOMNode(this.refs.trimmode).disabled=!t.allowTrim,s.a.findDOMNode(this.refs.toggleSwitch).disabled=!(t.allowMultiFont&&t.allowOneFont),s.a.findDOMNode(this.refs.toggleSwitch).disabled&&(s.a.findDOMNode(this.refs.toggleSwitch).checked=t.allowMultiFont),this.packOptions.exporter=t,this.packOptions.allowTrim=t.allowTrim,this.packOptions.allowRotation=t.allowRotation,this.emitChanges()}},{key:"onFontSelected",value:function(e){this.state.selectedFont=e.selectedFont,this.updateFontProps()}},{key:"onCharSelected",value:function(e){this.state.selectedChar=e.selectedChar,this.state.selectedFont=e.selectedFont,this.updateFontProps()}},{key:"updateFontProps",value:function(){if(this.state.selectedFont){this.packOptions.selectedFont=this.state.selectedFont;var e=this.props.bitmapfonts[this.state.selectedFont];s.a.findDOMNode(this.refs.bmpfSelected).value=this.state.selectedFont,s.a.findDOMNode(this.refs.size).value=e.size,s.a.findDOMNode(this.refs.lineHeight).value=e.lineHeight,s.a.findDOMNode(this.refs.spaceWidth).value=e.spaceWidth,s.a.findDOMNode(this.refs.tabWidth).value=e.tabWidth,s.a.findDOMNode(this.refs.monoSpace).checked=e.monospace;var t=e.getCharById(this.state.selectedChar);t?(s.a.findDOMNode(this.refs.selectedChar).value=t.text,s.a.findDOMNode(this.refs.asciiCode).value=t.code,s.a.findDOMNode(this.refs.xOffSet).value=t.xoffset,s.a.findDOMNode(this.refs.yOffSet).value=t.yoffset,s.a.findDOMNode(this.refs.xAdvance).value=t.xadvance):(s.a.findDOMNode(this.refs.xOffSet).value=0,s.a.findDOMNode(this.refs.yOffSet).value=0,s.a.findDOMNode(this.refs.xAdvance).value=0)}}},{key:"emitChanges",value:function(){var e=Object.assign({},this.packOptions);e.packer=K(e.packer),E.emit(v,e)}},{key:"setPackDefault",value:function(){var e={selectedFont:null,multiFont:!1};return e.exporter=te[0],e.fileName="pack-result",e.textureName="texture",e.textureFormat="png",e.scale=1,e.width=2048,e.height=2048,e.fixedSize=!1,e.powerOfTwo=!1,e.allowRotation=!1,e.allowTrim=!1,e.trimMode="trim",e.detectIdentical=!0,e.packer=$[0].type,e.packerMethod=Object.keys($[0].methods)[0],e}},{key:"componentDidMount",value:function(){document.getElementById("id_button_pack").click(),this.emitChanges()}},{key:"changeTab",value:function(e){if("id_button_pack"===e.currentTarget.id){s.a.findDOMNode(this.refs.tab_font).style.display="none",s.a.findDOMNode(this.refs.tab_properties).style.display="block",s.a.findDOMNode(this.refs.tab_button_pack).className+=" active";var t=s.a.findDOMNode(this.refs.tab_button_font);t.className=t.className.replace(" active","")}else{s.a.findDOMNode(this.refs.tab_font).style.display="block",s.a.findDOMNode(this.refs.tab_properties).style.display="none",s.a.findDOMNode(this.refs.tab_button_font).className+=" active";var a=s.a.findDOMNode(this.refs.tab_button_pack);a.className=a.className.replace(" active","")}}},{key:"updatePackerMethods",value:function(){var e=K(this.packOptions.packer);e||(e=$[0]),this.methodItems=[];for(var t=Object.keys(e.methods),a=0,i=t;a<i.length;a++){var r=i[a];this.methodItems.push(n.a.createElement("option",{value:r,key:"packer-method-"+r},r))}this.packOptions.packerMethod=t[0]}},{key:"onPackerChange",value:function(e){this.packOptions.packer=s.a.findDOMNode(this.refs.packer).value,this.updatePackerMethods(),this.setState({packer:this.packOptions.packer}),this.emitChanges()}},{key:"onFontPropChanged",value:function(e){(this.props.bitmapfonts[this.state.selectedFont].size=Number(s.a.findDOMNode(this.refs.size).value),this.props.bitmapfonts[this.state.selectedFont].lineHeight=Number(s.a.findDOMNode(this.refs.lineHeight).value),this.props.bitmapfonts[this.state.selectedFont].spaceWidth=Number(s.a.findDOMNode(this.refs.spaceWidth).value),this.props.bitmapfonts[this.state.selectedFont].tabWidth=Number(s.a.findDOMNode(this.refs.tabWidth).value),this.props.bitmapfonts[this.state.selectedFont].monospace=s.a.findDOMNode(this.refs.monoSpace).checked,this.props.bitmapfonts[this.state.selectedFont].monospace)?this.props.bitmapfonts[this.state.selectedFont].setCharMonospace():this.props.bitmapfonts[this.state.selectedFont].getCharById(this.state.selectedChar)&&(this.props.bitmapfonts[this.state.selectedFont].characters[this.state.selectedChar].xoffset=Number(s.a.findDOMNode(this.refs.xOffSet).value),this.props.bitmapfonts[this.state.selectedFont].characters[this.state.selectedChar].yoffset=Number(s.a.findDOMNode(this.refs.yOffSet).value),this.props.bitmapfonts[this.state.selectedFont].characters[this.state.selectedChar].xadvance=Number(s.a.findDOMNode(this.refs.xAdvance).value));E.emit(w)}},{key:"toggleChange",value:function(e){this.packOptions.fileName=s.a.findDOMNode(this.refs.fileName).value,this.packOptions.textureFormat=s.a.findDOMNode(this.refs.textureFormat).value,this.packOptions.textureName=s.a.findDOMNode(this.refs.textureName).value,this.packOptions.scale=s.a.findDOMNode(this.refs.scale).value,this.packOptions.width=s.a.findDOMNode(this.refs.width).value,this.packOptions.height=s.a.findDOMNode(this.refs.height).value,this.packOptions.fixedSize=s.a.findDOMNode(this.refs.fixedSize).checked,this.packOptions.powerOfTwo=s.a.findDOMNode(this.refs.powerOfTwo).checked,this.packOptions.detectIdentical=s.a.findDOMNode(this.refs.detectIdentical).checked,this.packOptions.allowTrim=s.a.findDOMNode(this.refs.allowTrim).checked,this.packOptions.allowRotation=s.a.findDOMNode(this.refs.allowRotation).checked,this.packOptions.packer=s.a.findDOMNode(this.refs.packer).value,this.packOptions.packerMethod=s.a.findDOMNode(this.refs.packerMethod).value,this.emitChanges()}},{key:"startExport",value:function(){E.emit(b)}},{key:"setBack",value:function(e){var t=e.target.className.split(" ");E.emit(x,t[1])}},{key:"onToggleSwitchChange",value:function(e){this.packOptions.multiFont=e.currentTarget.checked,this.emitChanges()}},{key:"onDimChanged",value:function(e){e&&(13===(e.keyCode||e.which)&&(""===e.currentTarget.value&&(e.currentTarget.value=1),this.toggleChange()))}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"properties"},n.a.createElement("div",{className:"tabs"},n.a.createElement("div",{className:"tab"},n.a.createElement("button",{ref:"tab_button_pack",id:"id_button_pack",className:"tab-button",onClick:this.changeTab},"Pack Properties"),n.a.createElement("button",{ref:"tab_button_font",id:"id_button_font",className:"tab-button",onClick:this.changeTab},"Font Properties")),n.a.createElement("div",{ref:"tab_properties",className:"tab-content"},n.a.createElement("div",{className:"properties-input"},n.a.createElement("span",{className:"properties-input-item"},"Pack Name"),n.a.createElement("input",{className:"properties-input-field",ref:"fileName",defaultValue:this.packOptions.fileName})),n.a.createElement("div",{className:"properties-input"},n.a.createElement("span",{className:"properties-input-item"},"Texture Name"),n.a.createElement("input",{className:"properties-input-field",ref:"textureName",defaultValue:this.packOptions.textureName})),n.a.createElement("div",{className:"properties-input"},n.a.createElement("span",{className:"properties-input-item"},"Format"),n.a.createElement("select",{className:"properties-input-field",ref:"textureFormat",defaultValue:this.packOptions.textureFormat,onChange:this.toggleChange},n.a.createElement("option",{value:"png"},"png"),n.a.createElement("option",{value:"jpg"},"jpg"))),n.a.createElement("div",{className:"properties-input"},n.a.createElement("span",{className:"properties-input-item"},"Exporter"),n.a.createElement("select",{className:"properties-input-field",ref:"exporter",onChange:this.onExporterChanged,defaultValue:this.packOptions.exporter},te.map((function(e){return n.a.createElement("option",{key:"exporter-"+e.type,defaultValue:e.type},e.type)})))),n.a.createElement("div",{className:"properties-input"},n.a.createElement("span",{className:"properties-input-item"},"Scale"),n.a.createElement("input",{className:"properties-input-field",ref:"scale",defaultValue:this.packOptions.scale})),n.a.createElement("div",{className:"properties-input"},n.a.createElement("span",{className:"properties-input-item"},"Width"),n.a.createElement("input",{className:"properties-input-field",ref:"width",type:"number",min:"0",onKeyDown:this.onDimChanged,defaultValue:this.packOptions.width})),n.a.createElement("div",{className:"properties-input"},n.a.createElement("span",{className:"properties-input-item"},"Height"),n.a.createElement("input",{className:"properties-input-field",ref:"height",type:"number",min:"0",onKeyDown:this.onDimChanged,defaultValue:this.packOptions.height})),n.a.createElement("div",{className:"properties-input"},n.a.createElement("span",{className:"properties-input-item"},"Fixed size"),n.a.createElement("label",{className:"checkbox-container"},n.a.createElement("input",{type:"checkbox",ref:"fixedSize",defaultChecked:this.packOptions.fixedSize?"checked":"",onChange:this.toggleChange}),n.a.createElement("span",{className:"checkmark"}))),n.a.createElement("div",{className:"properties-input"},n.a.createElement("span",{className:"properties-input-item"},"Power of two"),n.a.createElement("label",{className:"checkbox-container"},n.a.createElement("input",{type:"checkbox",ref:"powerOfTwo",onChange:this.toggleChange,defaultChecked:this.packOptions.powerOfTwo?"checked":""}),n.a.createElement("span",{className:"checkmark"}))),n.a.createElement("div",{className:"properties-input"},n.a.createElement("span",{className:"properties-input-item"},"Allow Rotation"),n.a.createElement("label",{className:"checkbox-container"},n.a.createElement("input",{type:"checkbox",ref:"allowRotation",disabled:!this.packOptions.exporter.allowRotation,onChange:this.toggleChange,defaultChecked:this.packOptions.allowRotation?"checked":""}),n.a.createElement("span",{className:"checkmark"}))),n.a.createElement("div",{className:"properties-input"},n.a.createElement("span",{className:"properties-input-item"},"Allow Trim"),n.a.createElement("label",{className:"checkbox-container"},n.a.createElement("input",{type:"checkbox",ref:"allowTrim",onChange:this.toggleChange,disabled:!this.packOptions.exporter.allowTrim,defaultChecked:this.packOptions.allowTrim?"checked":""}),n.a.createElement("span",{className:"checkmark"}))),n.a.createElement("div",{className:"properties-input"},n.a.createElement("span",{className:"properties-input-item"},"Trim mode"),n.a.createElement("select",{className:"properties-input-field",ref:"trimmode"},n.a.createElement("option",{value:"trim"},"Trim"),n.a.createElement("option",{value:"crop"},"Crop"))),n.a.createElement("div",{className:"properties-input"},n.a.createElement("span",{className:"properties-input-item"},"Detect identical"),n.a.createElement("label",{className:"checkbox-container"},n.a.createElement("input",{type:"checkbox",ref:"detectIdentical",onChange:this.toggleChange,defaultChecked:this.packOptions.detectIdentical?"checked":""}),n.a.createElement("span",{className:"checkmark"}))),n.a.createElement("div",{className:"properties-input"},n.a.createElement("span",{className:"properties-input-item"},"Packer"),n.a.createElement("select",{className:"properties-input-field",ref:"packer",onChange:this.onPackerChange},$.map((function(e){return n.a.createElement("option",{key:"packer-"+e.type,defaultValue:e.type},e.type)})))),n.a.createElement("div",{className:"properties-input"},n.a.createElement("span",{className:"properties-input-item"},"Method"),n.a.createElement("select",{className:"properties-input-field",ref:"packerMethod",onChange:this.toggleChange,disabled:"OptimalPacker"===this.packOptions.packer},this.methodItems)),n.a.createElement("div",{className:"bg-texture-container"},"Background texture",n.a.createElement("div",{className:"bg-texture-container-buttons"},ee.map((function(t){return n.a.createElement("div",{key:"bg-texture-"+t},n.a.createElement("div",{className:"bg-texture-button "+t+(e.state.textureBack===t?" selected":""),onClick:e.setBack},"\xa0"))})))),n.a.createElement("div",{className:"bg-texture-container properties-input properties-switch"},n.a.createElement("div",{className:"properties-switch-op"},"One Font"),n.a.createElement("div",null,n.a.createElement("label",{className:"switch"},n.a.createElement("input",{type:"checkbox",ref:"toggleSwitch",onClick:this.onToggleSwitchChange}),n.a.createElement("span",{className:"slider round"}))),n.a.createElement("div",{className:"properties-switch-op"},"Multi Font"))),n.a.createElement("div",{ref:"tab_font",className:"tab-content"},n.a.createElement("div",{className:"properties-input"},n.a.createElement("span",{className:"properties-input-item"},"BitmapFont"),n.a.createElement("input",{className:"properties-input-field",ref:"bmpfSelected",defaultValue:"",readOnly:!0,disabled:!0})),n.a.createElement("div",{className:"properties-input"},n.a.createElement("span",{className:"properties-input-item"},"Monospace"),n.a.createElement("label",{className:"checkbox-container"},n.a.createElement("input",{type:"checkbox",ref:"monoSpace",onChange:this.onFontPropChanged}),n.a.createElement("span",{className:"checkmark"}))),n.a.createElement("div",{className:"properties-input"},n.a.createElement("span",{className:"properties-input-item"},"Font size"),n.a.createElement("input",{className:"properties-input-field",type:"number",ref:"size",defaultValue:"0",onChange:this.onFontPropChanged})),n.a.createElement("div",{className:"properties-input"},n.a.createElement("span",{className:"properties-input-item"},"Line height"),n.a.createElement("input",{className:"properties-input-field",type:"number",ref:"lineHeight",defaultValue:"0",onChange:this.onFontPropChanged})),n.a.createElement("div",{className:"properties-input"},n.a.createElement("span",{className:"properties-input-item"},"Space width"),n.a.createElement("input",{className:"properties-input-field",type:"number",ref:"spaceWidth",defaultValue:"0",onChange:this.onFontPropChanged})),n.a.createElement("div",{className:"properties-input"},n.a.createElement("span",{className:"properties-input-item"},"Tab width"),n.a.createElement("input",{className:"properties-input-field",type:"number",ref:"tabWidth",defaultValue:"0",onChange:this.onFontPropChanged})),n.a.createElement("br",null),n.a.createElement("hr",null),n.a.createElement("div",{className:"properties-input"},n.a.createElement("span",{className:"properties-input-item"},"Selected Char"),n.a.createElement("input",{className:"properties-input-field",ref:"selectedChar",defaultValue:"",readOnly:!0,disabled:!0})),n.a.createElement("div",{className:"properties-input"},n.a.createElement("span",{className:"properties-input-item"},"ASCII Code"),n.a.createElement("input",{className:"properties-input-field",ref:"asciiCode",defaultValue:"",readOnly:!0,disabled:!0})),n.a.createElement("div",{className:"properties-input"},n.a.createElement("span",{className:"properties-input-item"},"xoffset"),n.a.createElement("input",{className:"properties-input-field",type:"number",ref:"xOffSet",defaultValue:"0",onChange:this.onFontPropChanged})),n.a.createElement("div",{className:"properties-input"},n.a.createElement("span",{className:"properties-input-item"},"yoffset"),n.a.createElement("input",{className:"properties-input-field",type:"number",ref:"yOffSet",defaultValue:"0",onChange:this.onFontPropChanged})),n.a.createElement("div",{className:"properties-input"},n.a.createElement("span",{className:"properties-input-item"},"xadvance"),n.a.createElement("input",{className:"properties-input-field",type:"number",ref:"xAdvance",defaultValue:"0",onChange:this.onFontPropChanged})))),n.a.createElement("div",null,n.a.createElement("button",{className:"app-button",ref:"exportButton",onClick:this.startExport},"EXPORT")))}}]),a}(i.Component)),be=a(45),ye=function(){function e(){Object(c.a)(this,e),this._listSelections=null,this._img=null,this._rawData=null,this._refPixel=null,this._fontName=null,this._auxCanvas=document.createElement("canvas")}return Object(l.a)(e,[{key:"split",value:function(e,t){this._listSelections=[],this._img=e,this._fontName=t,this._auxCanvas.width=e.width,this._auxCanvas.height=e.height,this._auxCanvas.getContext("2d").drawImage(e,0,0,e.width,e.height),this._rawData=this._auxCanvas.getContext("2d").getImageData(0,0,e.width,e.height).data,this._refPixel=this.getPixel(0,0);var a=!0;do{a=this.selectFrameAt()}while(a);return this._listSelections}},{key:"selectFrameAt",value:function(){var e=this.findNextStartPixel();if(this.isFinalPixel(e))return!1;var t=this.selectFrame(e);return t&&(t.id=Object(be.a)(),t.fontName=this._fontName,t.imagedata=this._auxCanvas.getContext("2d").getImageData(t.x,t.y,t.width,t.height),this._listSelections.push(t)),!0}},{key:"selectFrame",value:function(e){var t={id:0,fontName:"",x:e.x,y:e.y,width:1,height:1,imagedata:null};return this.expandFromPixel(t),t}},{key:"expandFromPixel",value:function(e){for(var t=!1;!t;){0===this.expandFromAllDirections(e)&&(t=!0)}}},{key:"expandFromAllDirections",value:function(e){var t=0;return t+=this.expandToTheRight(e),t+=this.expandToTheBottom(e),t+=this.expandToTheLeft(e),t+=this.expandToTheTop(e)}},{key:"expandToTheTop",value:function(e){for(var t=0,a=!1;!a;){if(this.isLineEmptyToTheTop(e)){a=!0;break}t+=1,e.y-=1,e.height+=1}return t}},{key:"isLineEmptyToTheTop",value:function(e){var t=e.x,a=e.y-1;if(a<0)return!0;for(var i=t,n=t+e.width;i<n;i++)if(!this.isEmptyPixel(this.getPixel(i,a)))return!1;return!0}},{key:"expandToTheLeft",value:function(e){for(var t=0,a=!1;!a;){if(this.isLineEmptyToTheLeft(e)){a=!0;break}t+=1,e.x-=1,e.width+=1}return t}},{key:"isLineEmptyToTheLeft",value:function(e){var t=e.x-1,a=e.y;if(t<0)return!0;for(var i=a,n=a+e.height;i<n;i++)if(!this.isEmptyPixel(this.getPixel(t,i)))return!1;return!0}},{key:"expandToTheRight",value:function(e){for(var t=0,a=!1;!a;){if(this.isLineEmptyToTheRight(e)){a=!0;break}t+=1,e.width+=1}return t}},{key:"expandToTheBottom",value:function(e){for(var t=0,a=!1;!a;){if(this.isLineEmptyToTheBottom(e)){a=!0;break}t+=1,e.height+=1}return t}},{key:"isLineEmptyToTheBottom",value:function(e){var t=e.x,a=e.y+e.height;if(a>this._img.height)return!0;for(var i=t,n=t+e.width;i<n;i++)if(!this.isEmptyPixel(this.getPixel(i,a)))return!1;return!0}},{key:"isLineEmptyToTheRight",value:function(e){var t=e.x+e.width,a=e.y;if(t>this._img.width)return!0;for(var i=a,n=a+e.height;i<n;i++)if(!this.isEmptyPixel(this.getPixel(t,i)))return!1;return!0}},{key:"getPixel",value:function(e,t){return{x:e,y:t,red:this._rawData[4*(this._img.width*t+e)],green:this._rawData[4*(this._img.width*t+e)+1],blue:this._rawData[4*(this._img.width*t+e)+2],alpha:this._rawData[4*(this._img.width*t+e)+3]}}},{key:"isEmptyPixel",value:function(e){return e.red===this._refPixel.red&&e.blue===this._refPixel.blue&&e.green===this._refPixel.green&&e.alpha===this._refPixel.alpha}},{key:"findNextStartPixel",value:function(){return this.searchPixel()}},{key:"isFinalPixel",value:function(e){return void 0===e||e.x===this._img.width-1&&e.y===this._img.height-1}},{key:"searchPixel",value:function(){for(var e=0,t=this._img.height;e<t;e++)for(var a=0,i=this._img.width;a<i;a++){var n=this.getPixel(a,e);if(!this.isEmptyPixel(n)&&!this.isPixelInSelections(this._listSelections,n))return n}}},{key:"isPixelInSelections",value:function(e,t){return this.findSelectionOfPixel(e,t).length>0}},{key:"findSelectionOfPixel",value:function(e,t){return e.filter((function(e){var a=e.x,i=e.y,n=e.x+e.width,r=e.y+e.height;return t.x>=a&&t.x<=n&&t.y>=i&&t.y<=r&&e}))}}]),e}(),ke=function(){function e(){Object(c.a)(this,e),this._text="",this._code=-1,this._frame={x:0,y:0,w:0,h:0},this._sourceSize={w:0,h:0},this._spriteSourceSize={x:0,y:0,w:0,h:0},this._image=null,this._rotated=!1,this._xoffset=0,this._yoffset=0,this._xadvance=0}return Object(l.a)(e,[{key:"rotated",set:function(e){this._rotated=e},get:function(){return this._rotated}},{key:"frame",set:function(e){this._frame=e},get:function(){return this._frame}},{key:"sourceSize",set:function(e){this._sourceSize=e},get:function(){return this._sourceSize}},{key:"spriteSourceSize",set:function(e){this._spriteSourceSize=e},get:function(){return this._spriteSourceSize}},{key:"image",set:function(e){this._image=e},get:function(){return this._image}},{key:"text",set:function(e){this._text=e,this._code=e.charCodeAt(0)},get:function(){return this._text}},{key:"xadvance",get:function(){return this._xadvance},set:function(e){this._xadvance=e}},{key:"xoffset",get:function(){return this._xoffset},set:function(e){this._xoffset=e}},{key:"yoffset",get:function(){return this._yoffset},set:function(e){this._yoffset=e}},{key:"code",get:function(){return this._code}}]),e}(),we=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e,i){var n;return Object(c.a)(this,a),(n=t.call(this))._name=e.split(".").slice(0,-1).join("."),n._fileName=e,n._image=i,n._size=0,n._lineHeight=0,n._spaceWidth=0,n._tabWidth=0,n._monospace=!1,n._monospaceValue=0,n._characters={},n}return Object(l.a)(a,[{key:"getCharById",value:function(e){var t=null;return this._characters.hasOwnProperty(e)&&(t=this._characters[e]),t}},{key:"getCharByText",value:function(e){var t=null;for(var a in this._characters)this._characters.hasOwnProperty(a)&&this._characters[a].text===e&&(t=this._characters[a]);return t}},{key:"setCharMonospace",value:function(){for(var e in this._characters)this._characters.hasOwnProperty(e)&&(this._characters[e].xoffset=(this._monospaceValue-this._characters[e].frame.w)/2,this._characters[e].xadvance=this._monospaceValue+(this._monospaceValue-this._characters[e].frame.w)/2)}},{key:"characters",get:function(){return this._characters},set:function(e){var t,a=e.length,i=0,n=0;for(t=0;t<a;t++)this._characters[e[t].id]=new ke,this._characters[e[t].id].xadvance=e[t].width,i=e[t].width>i?e[t].width:i,n=e[t].height>n?e[t].height:n;this._monospaceValue=i,this._lineHeight=n,this._size=n,this._spaceWidth=20,this._tabWidth=30}},{key:"spaceWidth",get:function(){return this._spaceWidth},set:function(e){this._spaceWidth=e}},{key:"tabWidth",get:function(){return this._tabWidth},set:function(e){this._tabWidth=e}},{key:"monospace",get:function(){return this._monospace},set:function(e){this._monospace=e}},{key:"monospaceValue",get:function(){return this._monospaceValue},set:function(e){this._monospaceValue=e}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(e){this._lineHeight=e}},{key:"size",get:function(){return this._size},set:function(e){this._size=e}},{key:"name",get:function(){return this._name}},{key:"fileName",get:function(){return this._fileName}}]),a}(m.a),xe=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"getAlpha",value:function(e,t,a,i){return e[i*(4*t)+4*a+3]}},{key:"getLeftSpace",value:function(e,t,a){var i,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;for(i=0;i<t;i++)for(var r=0;r<a;r++)if(this.getAlpha(e,t,i,r)>n)return i;return 0}},{key:"getRightSpace",value:function(e,t,a){var i,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;for(i=t-1;i>=0;i--)for(var r=0;r<a;r++)if(this.getAlpha(e,t,i,r)>n)return t-i-1;return 0}},{key:"getTopSpace",value:function(e,t,a){var i,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;for(i=0;i<a;i++)for(var r=0;r<t;r++)if(this.getAlpha(e,t,r,i)>n)return i;return 0}},{key:"getBottomSpace",value:function(e,t,a){var i,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;for(i=a-1;i>=0;i--)for(var r=0;r<t;r++)if(this.getAlpha(e,t,r,i)>n)return a-i-1;return 0}},{key:"trim",value:function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=document.createElement("canvas"),n=i.getContext("2d"),r=Object(o.a)(e);try{for(r.s();!(t=r.n()).done;){var s=t.value,c=s.image;i.width=c.width,i.height=c.height,n.clearRect(0,0,c.width,c.height),n.drawImage(c,0,0,c.width,c.height,0,0,c.width,c.height);var l=n.getImageData(0,0,c.width,c.height).data,h={left:0,right:0,top:0,bottom:0};h.left=this.getLeftSpace(l,c.width,c.height,a),h.left!==c.width?(h.right=this.getRightSpace(l,c.width,c.height,a),h.top=this.getTopSpace(l,c.width,c.height,a),h.bottom=this.getBottomSpace(l,c.width,c.height,a),(h.left>0||h.right>0||h.top>0||h.bottom>0)&&(s.trimmed=!0,s.spriteSourceSize.x=h.left,s.spriteSourceSize.y=h.top,s.spriteSourceSize.w=c.width-h.left-h.right,s.spriteSourceSize.h=c.height-h.top-h.bottom)):(s.trimmed=!0,s.spriteSourceSize.x=0,s.spriteSourceSize.y=0,s.spriteSourceSize.w=1,s.spriteSourceSize.h=1),s.trimmed&&(s.frame.w=s.spriteSourceSize.w,s.frame.h=s.spriteSourceSize.h)}}catch(u){r.e(u)}finally{r.f()}}}]),e}(),Ne=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(c.a)(this,e),this._buffer=document.createElement("canvas"),this.width=0,this.height=0,this.render(t,a)}return Object(l.a)(e,[{key:"render",value:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this._buffer.getContext("2d"),n=i.imageSmoothingEnabled;i.imageSmoothingEnabled=!a.disableSmoothing;var r=e.getSize(t,a),s=r.width,c=r.height;this.width=s,this.height=c,this._buffer.width=s,this._buffer.height=c,i.clearRect(0,0,s,c);var l,h=Object(o.a)(t);try{for(h.s();!(l=h.n()).done;){var u=l.value;this.renderItem(i,u,a)}}catch(p){h.e(p)}finally{h.f()}i.imageSmoothingEnabled=n}},{key:"scale",value:function(e){if(1===e)return this._buffer;var t=document.createElement("canvas");return t.width=Math.round(this._buffer.width*e)||1,t.height=Math.round(this._buffer.height*e)||1,t.getContext("2d").drawImage(this._buffer,0,0,this._buffer.width,this._buffer.height,0,0,t.width,t.height),t}},{key:"renderExtrude",value:function(e,t,a){if(a.extrude){var i=e.imageSmoothingEnabled;e.imageSmoothingEnabled=!1;var n=t.frame.x,r=t.frame.y;t.rotated&&(n=0,r=0);var s=t.image;e.drawImage(s,0,0,1,1,n-a.extrude,r-a.extrude,a.extrude,a.extrude),e.drawImage(s,0,t.sourceSize.h-1,1,1,n-a.extrude,r+t.frame.h,a.extrude,a.extrude),e.drawImage(s,t.sourceSize.w-1,0,1,1,n+t.frame.w,r-a.extrude,a.extrude,a.extrude),e.drawImage(s,t.sourceSize.w-1,t.sourceSize.h-1,1,1,n+t.frame.w,r+t.frame.h,a.extrude,a.extrude),e.drawImage(s,0,t.spriteSourceSize.y,1,t.spriteSourceSize.h,n-a.extrude,r,a.extrude,t.frame.h),e.drawImage(s,t.sourceSize.w-1,t.spriteSourceSize.y,1,t.spriteSourceSize.h,n+t.frame.w,r,a.extrude,t.frame.h),e.drawImage(s,t.spriteSourceSize.x,0,t.spriteSourceSize.w,1,n,r-a.extrude,t.frame.w,a.extrude),e.drawImage(s,t.spriteSourceSize.x,t.sourceSize.h-1,t.spriteSourceSize.w,1,n,r+t.frame.h,t.frame.w,a.extrude),e.imageSmoothingEnabled=i}}},{key:"renderItem",value:function(e,t,a){if(!t.skipRender){var i=t.image;t.rotated?(e.save(),e.translate(t.frame.x+t.frame.h,t.frame.y),e.rotate(Math.PI/2),this.renderExtrude(e,t,a),e.drawImage(i,t.spriteSourceSize.x,t.spriteSourceSize.y,t.spriteSourceSize.w,t.spriteSourceSize.h,0,0,t.frame.w,t.frame.h),e.restore()):(this.renderExtrude(e,t,a),e.drawImage(i,t.spriteSourceSize.x,t.spriteSourceSize.y,t.spriteSourceSize.w,t.spriteSourceSize.h,t.frame.x,t.frame.y,t.frame.w,t.frame.h))}}},{key:"buffer",get:function(){return this._buffer}}],[{key:"getSize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.width||0,i=t.height||0,n=t.padding||0,r=t.extrude||0;if(!t.fixedSize){a=0,i=0;var s,c=Object(o.a)(e);try{for(c.s();!(s=c.n()).done;){var l=s.value,h=l.frame.x+l.frame.w,u=l.frame.y+l.frame.h;l.rotated&&(h=l.frame.x+l.frame.h,u=l.frame.y+l.frame.w),h>a&&(a=h),u>i&&(i=u)}}catch(g){c.e(g)}finally{c.f()}a+=n+r,i+=n+r}if(t.powerOfTwo){var p=Math.round(Math.log(a)/Math.log(2)),d=Math.round(Math.log(i)/Math.log(2)),m=Math.pow(2,p),f=Math.pow(2,d);m<a&&(m=Math.pow(2,p+1)),f<i&&(f=Math.pow(2,d+1)),a=m,i=f}return{width:a,height:i}}}]),e}(),Oe=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"detectIdentical",value:function(e){for(var t=[],a=0;a<e.length;a++)for(var i=e[a],n=a+1;n<e.length;n++){var r=e[n];i.image._base64===r.image._base64&&t.indexOf(r)<0&&(r.identical=i,t.push(r))}for(var s=0,o=t;s<o.length;s++){var c=o[s];e.splice(e.indexOf(c),1)}return{rects:e,identical:t}}},{key:"applyIdentical",value:function(e,t){var a,i=[],n=[],r=Object(o.a)(t);try{for(r.s();!(a=r.n()).done;){var s=a.value,c=e.indexOf(s.identical);if(c>=0){var l=e[c],h=Object.assign({},l);h.name=s.name,h.image=s.image,h.originalFile=s.file,h.skipRender=!0,n.push(s),i.push(h)}}}catch(v){r.e(v)}finally{r.f()}for(var u=0,p=n;u<p.length;u++){var d=p[u];t.splice(t.indexOf(d),1)}for(var m=0,f=i;m<f.length;m++){var g=f[m];g.cloned=!0,e.push(g)}return e}},{key:"pack",value:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=[],c=i.padding||0,l=i.extrude||0,h=0,u=0,p=0,d=0,m=i.alphaThreshold||0;m>255&&(m=255);var f,g=Object.keys(a).sort(),v=Object(o.a)(g);try{for(v.s();!(f=v.n()).done;){var b=f.value,y=a[b];h+=y.width,u+=y.height,y.width>p&&(p=y.width+2*c+2*l),y.height>d&&(d=y.height+2*c+2*l),s.push({frame:{x:0,y:0,w:y.width,h:y.height},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:y.width,h:y.height},sourceSize:{w:y.width,h:y.height},charId:b,file:y._fontName,image:y})}}catch(Y){v.e(Y)}finally{v.f()}var k=i.width||0,w=i.height||0;if(k||(k=h),w||(w=u),i.powerOfTwo){var x=Math.round(Math.log(k)/Math.log(2)),N=Math.round(Math.log(w)/Math.log(2)),O=Math.pow(2,x),E=Math.pow(2,N);O<k&&(O=Math.pow(2,x+1)),E<w&&(E=Math.pow(2,N+1)),k=O,w=E}if(k<p||w<d)r&&(console.error("INVALID_SIZE_ERROR",p,d),r({}));else{i.allowTrim&&xe.trim(s,m);var S,C=Object(o.a)(s);try{for(C.s();!(S=C.n()).done;){var M=S.value;M.frame.w+=2*c+2*l,M.frame.h+=2*c+2*l}}catch(Y){C.e(Y)}finally{C.f()}var j=[];if(i.detectIdentical){var _=e.detectIdentical(s);s=_.rects,j=_.identical}var F,I,A=function(){var e,t=[],a=Object(o.a)($);try{for(a.s();!(e=a.n()).done;){var i=e.value;if(i!==Q)for(var n in i.methods)t.push({packerClass:i,packerMethod:i.methods[n],allowRotation:!1}),t.push({packerClass:i,packerMethod:i.methods[n],allowRotation:!0})}}catch(Y){a.e(Y)}finally{a.f()}return t},R=i.packer||J,T=i.packerMethod||J.methods.BestShortSideFit,P=R===Q?A():[{packerClass:R,packerMethod:T,allowRotation:i.allowRotation}],D=1/0,G=0,Z=0,z=Object(o.a)(s);try{for(z.s();!(I=z.n()).done;){var L=I.value;Z+=L.sourceSize.w*L.sourceSize.h}}catch(Y){z.e(Y)}finally{z.f()}var B,W=Object(o.a)(P);try{var H=function(){for(var a=B.value,n=[],r=0,h=P.length>1?s.map((function(e){return Object.assign({},e,{frame:Object.assign({},e.frame),spriteSourceSize:Object.assign({},e.spriteSourceSize),sourceSize:Object.assign({},e.sourceSize)})})):s,u=P.length>1?j.map((function(e){var t,a=Object(o.a)(h);try{for(a.s();!(t=a.n()).done;){var i=t.value;if(e.identical.image._base64==i.image._base64)return Object.assign({},e,{identical:i})}}catch(Y){a.e(Y)}finally{a.f()}})):j;h.length;){var p,d=new a.packerClass(k,w,a.allowRotation).pack(h,a.packerMethod),m=Object(o.a)(d);try{for(m.s();!(p=m.n()).done;){var f=p.value;f.frame.x+=c+l,f.frame.y+=c+l,f.frame.w-=2*c+2*l,f.frame.h-=2*c+2*l}}catch(Y){m.e(Y)}finally{m.f()}i.detectIdentical&&(d=e.applyIdentical(d,u)),n.push(d);var g,v=Object(o.a)(d);try{for(v.s();!(g=v.n()).done;){var b=g.value;t.removeRect(h,b.charId)}}catch(Y){v.e(Y)}finally{v.f()}var y=Ne.getSize(d,i);r+=y.width*y.height}var x=n.length,N=Z/r;(x<D||x===D&&N>G)&&(F=n,D=x,G=N)};for(W.s();!(B=W.n()).done;)H()}catch(Y){W.e(Y)}finally{W.f()}n&&n(F)}}},{key:"removeRect",value:function(e,t){for(var a=0;a<e.length;a++)if(e[a].charId===t)return void e.splice(a,1)}}]),e}(),Ee=a.p+"static/media/loading.11c144ca.gif",Se=a(23),Ce=a.n(Se),Me=(a(41),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var i;return Object(c.a)(this,a),(i=t.call(this,e)).onShowPopup=i.onShowPopup.bind(Object(h.a)(i)),i.onClosePopup=i.onClosePopup.bind(Object(h.a)(i)),E.on(N,i.onShowPopup),E.on(O,i.onClosePopup),i.state={type:null,message:""},i}return Object(l.a)(a,[{key:"onClosePopup",value:function(e){this.setState({type:null})}},{key:"onShowPopup",value:function(e){this.setState({message:e.message,type:e.type})}},{key:"render",value:function(){var e=n.a.createElement("div",null);if(this.state.type)switch(this.state.type){case S:e=n.a.createElement("div",{className:"popup"},n.a.createElement("div",{className:"popup-box popup-box-about"},n.a.createElement("div",{className:"popup-about-logo"},n.a.createElement("img",{src:I.a,alt:"logo"})),n.a.createElement("div",{className:"popup-about-title popup-about-content"},"MultiFont Packer ",_.version),n.a.createElement("hr",null),n.a.createElement("table",{className:"popup-about-content"},n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",null,"GitHub"),n.a.createElement("td",null,n.a.createElement("a",{href:_.github,target:"_blank"},_.github))),n.a.createElement("tr",null,n.a.createElement("td",null,"Issues"),n.a.createElement("td",null,n.a.createElement("a",{href:_.issues,target:"_blank"},_.issues))),n.a.createElement("tr",null,n.a.createElement("td",null,"Libs"),n.a.createElement("td",null,n.a.createElement("div",null,n.a.createElement("a",{href:"https://facebook.github.io/react",target:"_blank"},"React")),n.a.createElement("div",null,n.a.createElement("a",{href:"https://stuk.github.io/jszip",target:"_blank"},"JSZip")),n.a.createElement("div",null,n.a.createElement("a",{href:"https://github.com/eligrey/FileSaver.js",target:"_blank"},"FileSaver.js")),n.a.createElement("div",null,n.a.createElement("a",{href:"https://github.com/janl/mustache.js",target:"_blank"},"mustache.js")),n.a.createElement("div",null,n.a.createElement("a",{href:"https://github.com/06wj/MaxRectsBinPack",target:"_blank"},"MaxRectsBinPack")),n.a.createElement("div",null,n.a.createElement("a",{href:"https://www.npmjs.com/package/maxrects-packer",target:"_blank"},"MaxRectsPacker")),n.a.createElement("div",null,n.a.createElement("a",{href:"http://free-tex-packer.com/",target:"_blank"},"Free Texture Packer")),n.a.createElement("div",null,n.a.createElement("a",{href:"https://github.com/bmarwane/spriteSplitter",target:"_blank"},"Sprite Splitter")))),n.a.createElement("tr",null,n.a.createElement("td",null,"Contributors"),n.a.createElement("td",null,"Rub\xe9n Tal\xf3n")))),n.a.createElement("div",null,n.a.createElement("button",{className:"app-button",onClick:this.onClosePopup},"OK"))));break;case C:e=n.a.createElement("div",{className:"popup"},n.a.createElement("div",{className:"popup-box popup-box-message"},n.a.createElement("div",{className:"popup-box-center popup-box-row"},n.a.createElement("img",{src:Ee,alt:"loading"})),n.a.createElement("div",{className:"popup-box-center popup-box-row"},this.state.message)));break;case j:e=n.a.createElement("div",{className:"popup"},n.a.createElement("div",{className:"popup-box popup-box-message"},n.a.createElement("div",{className:"popup-box-center popup-box-col"},n.a.createElement("div",{className:"popup-icon"},n.a.createElement("img",{alt:"error",src:Ce.a})),this.state.message),n.a.createElement("div",{className:"popup-box-center popup-box-col"},n.a.createElement("button",{className:"app-button",onClick:this.onClosePopup},"OK"))));break;case M:e=n.a.createElement("div",{className:"popup"},n.a.createElement("div",{className:"popup-box popup-box-message"},n.a.createElement("div",{className:"popup-box-center popup-box-col"},this.state.message),n.a.createElement("div",{className:"popup-box-center popup-box-col"},n.a.createElement("button",{className:"app-button",onClick:this.onClosePopup},"OK"))));break;default:e=n.a.createElement("div",null)}return n.a.createElement("div",null,e)}}]),a}(i.Component)),je=(a(42),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var i;return Object(c.a)(this,a),(i=t.call(this,e)).onAtlasListChanged=i.onAtlasListChanged.bind(Object(h.a)(i)),i.onCharImageLoaded=i.onCharImageLoaded.bind(Object(h.a)(i)),i.onPackOptionsChanged=i.onPackOptionsChanged.bind(Object(h.a)(i)),i.startExport=i.startExport.bind(Object(h.a)(i)),i.onFontSelected=i.onFontSelected.bind(Object(h.a)(i)),i._bitmapFonts={},i._packResult=null,i._packCharas=null,i._packOptions={},i._spriteSplitter=new ye,i._totalCharasToLoad=0,i._numCharasLoaded=0,i._selectedFont=null,E.on(f,i.onAtlasListChanged),E.on(v,i.onPackOptionsChanged),E.on(b,i.startExport),E.on(y,i.onFontSelected),i}return Object(l.a)(a,[{key:"onFontSelected",value:function(e){this._selectedFont=e.selectedFont,this._packCharas=this.getImageCharas(),this.doPack()}},{key:"onPackOptionsChanged",value:function(e){this._packOptions=e,e.selectedFont&&(this._selectedFont=e.selectedFont),this._packCharas=this.getImageCharas(),this.doPack()}},{key:"onAtlasListChanged",value:function(e){var t=[];for(var a in e)if(e.hasOwnProperty(a)){var i=e[a];if(!this._bitmapFonts.hasOwnProperty(a)){this._bitmapFonts[a]=new we(a,i);var n=this._spriteSplitter.split(i,a);this._totalCharasToLoad+=n.length,this._bitmapFonts[a].characters=n,t=t.concat(n)}}var r,s=document.createElement("canvas"),o=s.getContext("2d"),c=t.length;for(r=0;r<c;r++){s.width=t[r].imagedata.width,s.height=t[r].imagedata.height,o.putImageData(t[r].imagedata,0,0);var l=new Image;this._bitmapFonts[t[r].fontName].characters[t[r].id].image=l,l.addEventListener("load",this.onCharImageLoaded),l._base64=s.toDataURL(),l._id=t[r].id,l._fontName=t[r].fontName,l.width=t[r].imagedata.width,l.height=t[r].imagedata.height,l.src=s.toDataURL()}}},{key:"onCharImageLoaded",value:function(e){e.target.removeEventListener("load",this.onCharImageLoaded),this._numCharasLoaded++,this._numCharasLoaded===this._totalCharasToLoad&&(this._totalCharasToLoad=0,this._numCharasLoaded=0,this._selectedFont||(this._selectedFont=Object.keys(this._bitmapFonts)[0],this._packOptions.selectedFont=this._selectedFont,E.emit(y,{selectedFont:this._selectedFont})),this._packCharas=this.getImageCharas(),this.doPack())}},{key:"getImageCharas",value:function(){if(this._selectedFont){var e={};if(this._packOptions.multiFont)for(var t in this._bitmapFonts)for(var a in this._bitmapFonts[t].characters)this._bitmapFonts[t].characters.hasOwnProperty(a)&&(e[a]=this._bitmapFonts[t].characters[a].image);else for(var i in this._bitmapFonts[this._selectedFont].characters)this._bitmapFonts[this._selectedFont].characters.hasOwnProperty(i)&&(e[i]=this._bitmapFonts[this._selectedFont].characters[i].image);return e}}},{key:"updateBitmapFonts",value:function(e){var t,a=e.length;for(t=0;t<a;t++){var i=e[t].file,n=e[t].charId;this._bitmapFonts[i].characters[n].frame.x=e[t].frame.x,this._bitmapFonts[i].characters[n].frame.y=e[t].frame.y,this._bitmapFonts[i].characters[n].frame.w=e[t].frame.w,this._bitmapFonts[i].characters[n].frame.h=e[t].frame.h,this._bitmapFonts[i].characters[n].sourceSize.w=e[t].sourceSize.w,this._bitmapFonts[i].characters[n].sourceSize.h=e[t].sourceSize.h,this._bitmapFonts[i].characters[n].spriteSourceSize.x=e[t].spriteSourceSize.x,this._bitmapFonts[i].characters[n].spriteSourceSize.y=e[t].spriteSourceSize.y,this._bitmapFonts[i].characters[n].spriteSourceSize.w=e[t].spriteSourceSize.w,this._bitmapFonts[i].characters[n].spriteSourceSize.h=e[t].spriteSourceSize.h,this._bitmapFonts[i].characters[n].rotated=e[t].rotated}}},{key:"doPack",value:function(){var e=this;null!=this._packCharas&&(Object.keys(this._packCharas).length>0&&Oe.pack(this._packCharas,this._packOptions,(function(t){e._packResult=[];var a,i=Object(o.a)(t);try{for(i.s();!(a=i.n()).done;){var n=a.value,r=new Ne(n,e._packOptions);e.updateBitmapFonts(n),e._packResult.push({buffer:r.buffer,renderer:r,multifont:e._packOptions.multiFont,selectedFont:e._selectedFont})}}catch(s){i.e(s)}finally{i.f()}E.emit(g,e._packResult),E.emit(O)}),null))}},{key:"startExport",value:function(){if(this._packResult&&this._packResult.length>0)try{ge.startExporter(this._packResult[0].buffer,this._bitmapFonts,this._packOptions)}catch(e){E.emit(N,{message:"Error exporting...",type:j})}else E.emit(N,{message:"Please, add images first",type:M})}},{key:"render",value:function(){return n.a.createElement("div",{className:"app-main"},n.a.createElement("div",{className:"app-wrapper"},n.a.createElement(A,null),n.a.createElement("div",{className:"app-layout"},n.a.createElement(z,null),n.a.createElement(ve,{bitmapfonts:this._bitmapFonts}),n.a.createElement(P,{bitmapfonts:this._bitmapFonts}),n.a.createElement(Me,null))))}}]),a}(i.Component));s.a.render(n.a.createElement(je,null),document.getElementById("root"))}],[[24,1,2]]]);
//# sourceMappingURL=main.883d06cd.chunk.js.map